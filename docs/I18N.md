# RandomBeast ‚Äî Internationalization (i18n)

> **Version:** 0.1.0 (MVP)  
> **Last Updated:** 2026-01-22

---

## 1. Overview

RandomBeast –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç—Ä–∏ —è–∑—ã–∫–∞:
- üá∑üá∫ **Russian (ru)** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π
- üá¨üáß **English (en)** ‚Äî –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π
- üá∞üáø **Kazakh (kk)** ‚Äî —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π

**–ü—Ä–∏–Ω—Ü–∏–ø:** –í–µ—Å—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ç–µ–∫—Å—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏. –ù–∏–∫–∞–∫–∏—Ö —Ö–∞—Ä–¥–∫–æ–¥ —Å—Ç—Ä–æ–∫ –≤ UI.

---

## 2. Technology Stack

### 2.1 Bot (grammY)

```
packages/
‚îî‚îÄ‚îÄ bot/
    ‚îî‚îÄ‚îÄ src/
        ‚îî‚îÄ‚îÄ i18n/
            ‚îú‚îÄ‚îÄ index.ts          # i18n setup
            ‚îú‚îÄ‚îÄ ru.json           # Russian translations
            ‚îú‚îÄ‚îÄ en.json           # English translations
            ‚îî‚îÄ‚îÄ kk.json           # Kazakh translations
```

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** `@grammyjs/i18n` –∏–ª–∏ custom JSON loader

```typescript
// packages/bot/src/i18n/index.ts
import ru from './ru.json';
import en from './en.json';
import kk from './kk.json';

const translations = { ru, en, kk };

export type LanguageCode = 'ru' | 'en' | 'kk';
export type TranslationKey = keyof typeof ru;

export const t = (
  lang: LanguageCode, 
  key: TranslationKey, 
  params?: Record<string, string | number>
): string => {
  let text = translations[lang]?.[key] || translations.ru[key] || key;
  
  if (params) {
    Object.entries(params).forEach(([k, v]) => {
      text = text.replace(new RegExp(`{${k}}`, 'g'), String(v));
    });
  }
  
  return text;
};
```

### 2.2 Web Apps (Next.js + next-intl)

```
apps/
‚îî‚îÄ‚îÄ web/
    ‚îî‚îÄ‚îÄ src/
        ‚îú‚îÄ‚îÄ i18n/
        ‚îÇ   ‚îú‚îÄ‚îÄ request.ts        # Server config
        ‚îÇ   ‚îî‚îÄ‚îÄ routing.ts        # Routing config
        ‚îî‚îÄ‚îÄ messages/
            ‚îú‚îÄ‚îÄ ru/
            ‚îÇ   ‚îú‚îÄ‚îÄ common.json
            ‚îÇ   ‚îú‚îÄ‚îÄ creator.json
            ‚îÇ   ‚îú‚îÄ‚îÄ participant.json
            ‚îÇ   ‚îú‚îÄ‚îÄ payments.json
            ‚îÇ   ‚îî‚îÄ‚îÄ faq.json
            ‚îú‚îÄ‚îÄ en/
            ‚îÇ   ‚îî‚îÄ‚îÄ ...
            ‚îî‚îÄ‚îÄ kk/
                ‚îî‚îÄ‚îÄ ...
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**

```typescript
// apps/web/src/i18n/request.ts
import { getRequestConfig } from 'next-intl/server';
import { routing } from './routing';

export default getRequestConfig(async ({ requestLocale }) => {
  let locale = await requestLocale;
  
  if (!locale || !routing.locales.includes(locale as any)) {
    locale = routing.defaultLocale;
  }
  
  return {
    locale,
    messages: {
      common: (await import(`../messages/${locale}/common.json`)).default,
      creator: (await import(`../messages/${locale}/creator.json`)).default,
      participant: (await import(`../messages/${locale}/participant.json`)).default,
      payments: (await import(`../messages/${locale}/payments.json`)).default,
      faq: (await import(`../messages/${locale}/faq.json`)).default,
    },
  };
});
```

```typescript
// apps/web/src/i18n/routing.ts
import { defineRouting } from 'next-intl/routing';

export const routing = defineRouting({
  locales: ['ru', 'en', 'kk'],
  defaultLocale: 'ru',
  localePrefix: 'as-needed', // –ù–µ –¥–æ–±–∞–≤–ª—è—Ç—å /ru –¥–ª—è –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ
});
```

---

## 3. Namespace Structure

### 3.1 Common (common.json)

–û–±—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:

```json
{
  "nav": {
    "home": "–ì–ª–∞–≤–Ω–∞—è",
    "back": "–ù–∞–∑–∞–¥",
    "menu": "–í –º–µ–Ω—é",
    "settings": "–ù–∞—Å—Ç—Ä–æ–π–∫–∏",
    "help": "–ü–æ–º–æ—â—å"
  },
  "actions": {
    "save": "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",
    "cancel": "–û—Ç–º–µ–Ω–∞",
    "delete": "–£–¥–∞–ª–∏—Ç—å",
    "edit": "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å",
    "create": "–°–æ–∑–¥–∞—Ç—å",
    "continue": "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å",
    "confirm": "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"
  },
  "status": {
    "loading": "–ó–∞–≥—Ä—É–∑–∫–∞...",
    "error": "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞",
    "success": "–ì–æ—Ç–æ–≤–æ!",
    "noData": "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö"
  },
  "time": {
    "today": "–°–µ–≥–æ–¥–Ω—è",
    "tomorrow": "–ó–∞–≤—Ç—Ä–∞",
    "days": "{count} –¥–Ω.",
    "hours": "{count} —á.",
    "minutes": "{count} –º–∏–Ω."
  },
  "validation": {
    "required": "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ",
    "minLength": "–ú–∏–Ω–∏–º—É–º {min} —Å–∏–º–≤–æ–ª–æ–≤",
    "maxLength": "–ú–∞–∫—Å–∏–º—É–º {max} —Å–∏–º–≤–æ–ª–æ–≤",
    "invalidUrl": "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Å—ã–ª–∫–∞"
  }
}
```

### 3.2 Bot (bot.json)

–¢–µ–∫—Å—Ç—ã –¥–ª—è Telegram –±–æ—Ç–∞:

```json
{
  "welcome": {
    "greeting": "üëã –ü—Ä–∏–≤–µ—Ç, {name}!\n\n–Ø –ø–æ–º–æ–≥—É —Å–æ–∑–¥–∞—Ç—å —á–µ—Å—Ç–Ω—ã–π —Ä–æ–∑—ã–≥—Ä—ã—à –≤ Telegram.",
    "start": "–í—ã–±–µ—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–µ:",
    "languageSelect": "üåç –í—ã–±–µ—Ä–∏ —è–∑—ã–∫:"
  },
  "menu": {
    "createGiveaway": "üéÅ –°–æ–∑–¥–∞—Ç—å —Ä–æ–∑—ã–≥—Ä—ã—à",
    "myGiveaways": "üìã –ú–æ–∏ —Ä–æ–∑—ã–≥—Ä—ã—à–∏",
    "addChannel": "üì¢ –î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª",
    "myChannels": "üì¢ –ú–æ–∏ –∫–∞–Ω–∞–ª—ã",
    "catalog": "üîç –ö–∞—Ç–∞–ª–æ–≥",
    "help": "‚ùì –ü–æ–º–æ—â—å",
    "settings": "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏"
  },
  "giveaway": {
    "created": "‚úÖ –†–æ–∑—ã–≥—Ä—ã—à \"{title}\" —Å–æ–∑–¥–∞–Ω!",
    "published": "üì£ –†–æ–∑—ã–≥—Ä—ã—à –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –≤ {count} –∫–∞–Ω–∞–ª–æ–≤",
    "finished": "üèÜ –†–æ–∑—ã–≥—Ä—ã—à –∑–∞–≤–µ—Ä—à—ë–Ω! –ü–æ–±–µ–¥–∏—Ç–µ–ª–∏: {winners}",
    "cancelled": "‚ùå –†–æ–∑—ã–≥—Ä—ã—à –æ—Ç–º–µ–Ω—ë–Ω"
  },
  "channel": {
    "added": "‚úÖ –ö–∞–Ω–∞–ª {title} –¥–æ–±–∞–≤–ª–µ–Ω",
    "notAdmin": "‚ö†Ô∏è –ë–æ—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –∫–∞–Ω–∞–ª–∞",
    "checkPermissions": "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª–µ"
  },
  "errors": {
    "generic": "üòî –ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.",
    "notFound": "üîç –ù–µ –Ω–∞–π–¥–µ–Ω–æ",
    "accessDenied": "üö´ –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω"
  }
}
```

### 3.3 Creator (creator.json)

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ–∑–¥–∞—Ç–µ–ª—è —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π:

```json
{
  "wizard": {
    "step1": {
      "title": "–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏",
      "titleLabel": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∞",
      "titlePlaceholder": "–ù–∞–ø—Ä–∏–º–µ—Ä: iPhone 15 Pro Max",
      "descriptionLabel": "–û–ø–∏—Å–∞–Ω–∏–µ",
      "winnersLabel": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π"
    },
    "step2": {
      "title": "–£—Å–ª–æ–≤–∏—è —É—á–∞—Å—Ç–∏—è",
      "subscriptions": "–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª—ã",
      "addChannel": "–î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª",
      "boost": "–ë—É—Å—Ç –∫–∞–Ω–∞–ª–∞",
      "boostHint": "–£—á–∞—Å—Ç–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω –∑–∞–±—É—Å—Ç–∏—Ç—å –∫–∞–Ω–∞–ª",
      "invites": "–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –¥—Ä—É–∑–µ–π",
      "invitesHint": "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —à–∞–Ω—Å—ã –∑–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è"
    },
    "step3": {
      "title": "–î–∞—Ç—ã –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è",
      "endDate": "–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è",
      "endTime": "–í—Ä–µ–º—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è",
      "channels": "–ö–∞–Ω–∞–ª—ã –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏",
      "resultsChannels": "–ö—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∏—Ç–æ–≥–∏"
    },
    "step4": {
      "title": "–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä",
      "preview": "–¢–∞–∫ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø–æ—Å—Ç",
      "confirm": "–í—Å—ë –≤–µ—Ä–Ω–æ, –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å"
    }
  },
  "myGiveaways": {
    "title": "–ú–æ–∏ —Ä–æ–∑—ã–≥—Ä—ã—à–∏",
    "empty": "–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π",
    "createFirst": "–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π —Ä–æ–∑—ã–≥—Ä—ã—à",
    "filters": {
      "all": "–í—Å–µ",
      "active": "–ê–∫—Ç–∏–≤–Ω—ã–µ",
      "finished": "–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ",
      "draft": "–ß–µ—Ä–Ω–æ–≤–∏–∫–∏"
    }
  },
  "stats": {
    "participants": "–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤",
    "tickets": "–ë–∏–ª–µ—Ç–æ–≤",
    "invites": "–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π",
    "views": "–ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤"
  }
}
```

### 3.4 Participant (participant.json)

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É—á–∞—Å—Ç–Ω–∏–∫–∞ —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π:

```json
{
  "join": {
    "title": "–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–µ",
    "button": "–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å",
    "alreadyJoined": "–í—ã —É–∂–µ —É—á–∞—Å—Ç–≤—É–µ—Ç–µ ‚úì",
    "checkConditions": "–ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è...",
    "success": "üéâ –í—ã —É—á–∞—Å—Ç–≤—É–µ—Ç–µ!"
  },
  "conditions": {
    "title": "–£—Å–ª–æ–≤–∏—è —É—á–∞—Å—Ç–∏—è",
    "subscribe": "–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ {channel}",
    "boost": "–ó–∞–±—É—Å—Ç–∏—Ç—å {channel}",
    "invite": "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–∑–µ–π",
    "task": "–í—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ",
    "completed": "–í—ã–ø–æ–ª–Ω–µ–Ω–æ ‚úì",
    "pending": "–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ"
  },
  "tickets": {
    "title": "–í–∞—à–∏ —à–∞–Ω—Å—ã",
    "base": "–ë–∞–∑–æ–≤—ã–π –±–∏–ª–µ—Ç",
    "bonus": "–ë–æ–Ω—É—Å–Ω—ã–µ –±–∏–ª–µ—Ç—ã",
    "total": "–í—Å–µ–≥–æ –±–∏–ª–µ—Ç–æ–≤: {count}",
    "inviteBonus": "+{count} –∑–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è"
  },
  "results": {
    "title": "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–æ–∑—ã–≥—Ä—ã—à–∞",
    "winner": "üèÜ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –ø–æ–±–µ–¥–∏–ª–∏!",
    "notWinner": "–í —ç—Ç–æ—Ç —Ä–∞–∑ –Ω–µ –ø–æ–≤–µ–∑–ª–æ üòî",
    "winners": "–ü–æ–±–µ–¥–∏—Ç–µ–ª–∏",
    "tryAgain": "–£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ –¥—Ä—É–≥–∏—Ö —Ä–æ–∑—ã–≥—Ä—ã—à–∞—Ö"
  },
  "share": {
    "invite": "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞",
    "copyLink": "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É",
    "linkCopied": "–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!",
    "shareText": "–£—á–∞—Å—Ç–≤—É–π –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–µ \"{title}\" –∏ –≤—ã–∏–≥—Ä–∞–π –ø—Ä–∏–∑—ã!"
  }
}
```

### 3.5 Payments (payments.json)

–ü–ª–∞—Ç–µ–∂–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∏:

```json
{
  "catalog": {
    "title": "–ö–∞—Ç–∞–ª–æ–≥ —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π",
    "description": "–ü–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∫–∞—Ç–∞–ª–æ–≥—É –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π",
    "price": "{price} ‚ÇΩ/–º–µ—Å",
    "subscribe": "–û—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É"
  },
  "checkout": {
    "title": "–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ",
    "summary": "–ö –æ–ø–ª–∞—Ç–µ",
    "pay": "–û–ø–ª–∞—Ç–∏—Ç—å {amount} ‚ÇΩ",
    "processing": "–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–∞...",
    "success": "‚úÖ –û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!",
    "failed": "‚ùå –û—à–∏–±–∫–∞ –æ–ø–ª–∞—Ç—ã"
  },
  "subscription": {
    "active": "–ê–∫—Ç–∏–≤–Ω–∞ –¥–æ {date}",
    "expired": "–ò—Å—Ç–µ–∫–ª–∞",
    "renew": "–ü—Ä–æ–¥–ª–∏—Ç—å",
    "cancel": "–û—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É"
  },
  "errors": {
    "paymentFailed": "–ü–ª–∞—Ç—ë–∂ –Ω–µ –ø—Ä–æ—à—ë–ª. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –∫–∞—Ä—Ç—É.",
    "insufficientFunds": "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –∫–∞—Ä—Ç–µ",
    "cardDeclined": "–ö–∞—Ä—Ç–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞"
  }
}
```

### 3.6 FAQ (faq.json)

–í–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã:

```json
{
  "title": "–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã",
  "items": [
    {
      "question": "–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Ä–æ–∑—ã–≥—Ä—ã—à?",
      "answer": "–ù–∞–∂–º–∏—Ç–µ \"–°–æ–∑–¥–∞—Ç—å —Ä–æ–∑—ã–≥—Ä—ã—à\" –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –º–∞—Å—Ç–µ—Ä–∞."
    },
    {
      "question": "–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª?",
      "answer": "–î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –∫–∞–Ω–∞–ª–∞, –∑–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ \"–î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª\"."
    },
    {
      "question": "–ö–∞–∫ –≤—ã–±–∏—Ä–∞—é—Ç—Å—è –ø–æ–±–µ–¥–∏—Ç–µ–ª–∏?",
      "answer": "–ü–æ–±–µ–¥–∏—Ç–µ–ª–∏ –≤—ã–±–∏—Ä–∞—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –≤—ã–ø–æ–ª–Ω–∏–≤—à–∏—Ö —É—Å–ª–æ–≤–∏—è."
    },
    {
      "question": "–ú–æ–∂–Ω–æ –ª–∏ –æ—Ç–º–µ–Ω–∏—Ç—å —Ä–æ–∑—ã–≥—Ä—ã—à?",
      "answer": "–î–∞, –ø–æ–∫–∞ —Ä–æ–∑—ã–≥—Ä—ã—à –Ω–µ –∑–∞–≤–µ—Ä—à—ë–Ω, –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å –µ–≥–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö."
    }
  ]
}
```

---

## 4. Translation Guidelines

### 4.1 General Rules

1. **Tone of voice:** –î—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –Ω–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π
2. **–§–æ—Ä–º–∞–ª—å–Ω–æ—Å—Ç—å:** –ù–∞ "–≤—ã" –≤ —Ä—É—Å—Å–∫–æ–º, –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ –≤ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
3. **Emoji:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–º–µ—Ä–µ–Ω–Ω–æ, —Ç–æ–ª—å–∫–æ –≤ –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Å—Ç–∞—Ö
4. **–î–ª–∏–Ω–∞:** –£—á–∏—Ç—ã–≤–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è UI (–∫–Ω–æ–ø–∫–∏, –∑–∞–≥–æ–ª–æ–≤–∫–∏)

### 4.2 Interpolation

```json
// –ü—Ä–∞–≤–∏–ª—å–Ω–æ
"greeting": "–ü—Ä–∏–≤–µ—Ç, {name}!"
"days": "{count} –¥–Ω."
"winners": "–ü–æ–±–µ–¥–∏—Ç–µ–ª–∏: {winners}"

// –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî —Å–∫–ª–æ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ
"days": "{count} –¥–Ω–µ–π"  // –ê —á—Ç–æ –µ—Å–ª–∏ 1 –¥–µ–Ω—å? 2 –¥–Ω—è?
```

### 4.3 Pluralization

–î–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ICU MessageFormat:

```json
{
  "participants": "{count, plural, one {# —É—á–∞—Å—Ç–Ω–∏–∫} few {# —É—á–∞—Å—Ç–Ω–∏–∫–∞} many {# —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤} other {# —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤}}"
}
```

### 4.4 Date/Time Formatting

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `next-intl` —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

```typescript
import { useFormatter } from 'next-intl';

const format = useFormatter();
const formatted = format.dateTime(date, {
  dateStyle: 'long',
  timeStyle: 'short',
});
// RU: "22 —è–Ω–≤–∞—Ä—è 2026 –≥., 15:30"
// EN: "January 22, 2026, 3:30 PM"
```

---

## 5. Language Detection

### 5.1 Priority Order

1. –Ø–≤–Ω—ã–π –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ –ë–î)
2. `language_code` –∏–∑ Telegram –¥–∞–Ω–Ω—ã—Ö
3. `Accept-Language` header –±—Ä–∞—É–∑–µ—Ä–∞
4. –î–µ—Ñ–æ–ª—Ç: `ru`

### 5.2 Implementation

```typescript
// Bot: –ø–æ–ª—É—á–µ–Ω–∏–µ —è–∑—ã–∫–∞
const getUserLanguage = async (ctx: Context): Promise<LanguageCode> => {
  // 1. –ò–∑ –ë–î
  const user = await prisma.user.findUnique({
    where: { telegramUserId: ctx.from.id },
    select: { languageCode: true },
  });
  
  if (user?.languageCode) return user.languageCode as LanguageCode;
  
  // 2. –ò–∑ Telegram
  const tgLang = ctx.from?.language_code;
  if (tgLang && ['ru', 'en', 'kk'].includes(tgLang)) {
    return tgLang as LanguageCode;
  }
  
  // 3. –î–µ—Ñ–æ–ª—Ç
  return 'ru';
};

// Web: middleware
export function middleware(request: NextRequest) {
  // Handled by next-intl
}
```

---

## 6. UI/UX Considerations

### 6.1 Language Switcher

- –í –±–æ—Ç–µ: –∫–æ–º–∞–Ω–¥–∞ /lang –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ –≤ –º–µ–Ω—é
- –í web: selector –≤ header (—Ñ–ª–∞–≥–∏ + —Ç–µ–∫—Å—Ç)
- –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ (web)

### 6.2 RTL Support

–ù–∞ MVP –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (–≤—Å–µ —è–∑—ã–∫–∏ LTR).

### 6.3 Text Expansion

–£—á–∏—Ç—ã–≤–∞—Ç—å, —á—Ç–æ –ø–µ—Ä–µ–≤–æ–¥—ã –º–æ–≥—É—Ç –±—ã—Ç—å –¥–ª–∏–Ω–Ω–µ–µ:

| Language | Expansion |
|----------|-----------|
| EN ‚Üí RU | +15-20% |
| EN ‚Üí KK | +10-15% |

–î–∏–∑–∞–π–Ω –¥–æ–ª–∂–µ–Ω —É—á–∏—Ç—ã–≤–∞—Ç—å flexible width –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤.

---

## 7. Translation Workflow

### 7.1 Process

1. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–ª—é—á –≤ `ru.json`
2. PR review –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–µ–∫—Å—Ç–æ–≤
3. –ü–æ—Å–ª–µ merge: –∑–∞–¥–∞—á–∞ –Ω–∞ –ø–µ—Ä–µ–≤–æ–¥ en/kk
4. –ü–µ—Ä–µ–≤–æ–¥—á–∏–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç en.json, kk.json
5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ UI

### 7.2 Missing Translations

```typescript
// –ï—Å–ª–∏ –ø–µ—Ä–µ–≤–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Äî fallback –Ω–∞ —Ä—É—Å—Å–∫–∏–π
const t = (lang: LanguageCode, key: string): string => {
  return translations[lang]?.[key] 
    || translations.ru[key] 
    || `[${key}]`; // Debug: –ø–æ–∫–∞–∑–∞—Ç—å –∫–ª—é—á
};
```

### 7.3 Type Safety

```typescript
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –∏–∑ JSON
type TranslationKeys = keyof typeof import('./ru.json');

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π
const message = t('ru', 'welcome.greeting'); // ‚úì TypeScript –ø—Ä–æ–≤–µ—Ä–∏—Ç
const message = t('ru', 'nonexistent.key'); // ‚úó –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
```

---

## 8. Testing

### 8.1 i18n Tests

```typescript
describe('i18n', () => {
  const languages = ['ru', 'en', 'kk'] as const;
  
  it('all languages have same keys', () => {
    const ruKeys = Object.keys(flattenObject(ru));
    
    languages.forEach(lang => {
      const langKeys = Object.keys(flattenObject(translations[lang]));
      expect(langKeys).toEqual(ruKeys);
    });
  });
  
  it('no empty translations', () => {
    languages.forEach(lang => {
      Object.entries(flattenObject(translations[lang])).forEach(([key, value]) => {
        expect(value).not.toBe('');
        expect(value).not.toBe(key);
      });
    });
  });
  
  it('interpolation params are valid', () => {
    // Check {param} syntax
  });
});
```

---

## 9. References

- [next-intl Documentation](https://next-intl-docs.vercel.app/)
- [ICU MessageFormat](https://unicode-org.github.io/icu/userguide/format_parse/messages/)
- [grammY i18n](https://grammy.dev/plugins/i18n)
